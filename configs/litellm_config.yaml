# No static models defined - all models are added dynamically at startup
# This ensures only working models are available and prevents accumulation of outdated models

model_list: []

# Models are now managed dynamically:
# - Gemini models: Added if Google API key is valid
# - Local models: Discovered from external LLM API (e.g., LM Studio, Ollama)
# - OpenRouter models: Added if OpenRouter API key is valid

general_settings:
  master_key: "sk-1234"
  
  # Enable UI for monitoring
  ui_access_mode: "admin_only"
  
  # Enable database persistence for virtual key management
  # Required for proper service authentication and spend tracking
  store_model_in_db: true
  
  # Enable virtual key management for service authentication
  enable_key_management: true
  
  # Database URL for virtual key storage (set via environment)
  database_url: null  # Set via DATABASE_URL environment variable
  
  # Default model fallback strategy (updated dynamically when Gemini models are available)
  fallbacks:
    # No fallbacks defined here - managed dynamically by LLM service

litellm_settings:
  # Enable detailed logging
  set_verbose: true
  
  # Request timeout settings
  request_timeout: 60
  
  # Retry settings
  num_retries: 3
  
  # Disable caching to avoid startup issues
  cache: false
  
  # Drop unsupported parameters (fixes Gemini embedding compatibility)
  drop_params: true

# MCP Server Configuration (ADR-015: LiteLLM MCP Gateway Migration)
# LiteLLM acts as the central registry for all MCP servers
# Format: server_name as key (no hyphens allowed - use underscores)
# Transport: "http" for streamable-http servers (FastMCP default), "sse" for SSE-only servers
mcp_servers:
  google_workspace:
    url: http://nova-google-workspace:8000/mcp
    transport: http
    description: "Google Workspace - Gmail and Calendar operations"

  feature_request:
    url: http://nova-feature-request:8000/mcp
    transport: http
    description: "Linear integration for feature requests"

  outlook_mac:
    url: http://host.docker.internal:9100/mcp
    transport: http
    description: "Local Outlook for Mac - Email and Calendar (via AppleScript)"

  ms_graph:
    url: http://nova-ms-graph:8000/mcp
    transport: http
    description: "Microsoft 365 - Email, Calendar, and People via MS Graph API"
    # External port: 8400 (for OAuth callback at http://localhost:8400/callback)